<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-04-26
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20150426" />
    <meta http-equiv="Content-Language" content="en" />
    <title>JavaFX Maven Plugin - </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="index.html" id="bannerLeft">
                <h2>JavaFX Maven Plugin</h2>
                </a>
                      </div>
        <div class="pull-right">              <div id="bannerRight">
                                                                                                <img src="images/zenjava-logo-small.png" />
                </div>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2015-04-26</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 8.1.2</li>
                      
                
                    
      
                                              
    <li class="pull-right">              <a href="http://github.com/pgkaila/javafx-maven-plugin" class="externalLink" title="GitHub Project">
        GitHub Project</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="http://docs.oracle.com/javafx/" class="externalLink" title="JavaFX">
        JavaFX</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="http://zenjava.com" class="externalLink" title="ZenJava">
        ZenJava</a>
  </li>

                        </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">JavaFX Maven Plugin</li>
                                
      <li>
    
                          <a href="index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                  
      <li>
    
                          <a href="fix-classpath.html" title="Fix the classpath">
          <i class="none"></i>
        Fix the classpath</a>
            </li>
                  
      <li>
    
                          <a href="basic-config.html" title="Basic Configuration">
          <i class="none"></i>
        Basic Configuration</a>
            </li>
                  
      <li>
    
                          <a href="plugin-info.html" title="All Goals and Settings">
          <i class="none"></i>
        All Goals and Settings</a>
            </li>
                              <li class="nav-header">Usage Guide</li>
                                
      <li>
    
                          <a href="jar-bundle.html" title="Building an Executable JAR">
          <i class="none"></i>
        Building an Executable JAR</a>
            </li>
                  
      <li>
    
                          <a href="native-bundle.html" title="Building a Native installer">
          <i class="none"></i>
        Building a Native installer</a>
            </li>
                  
      <li class="active">
    
            <a href="#"><i class="none"></i>Building a Web bundle</a>
          </li>
                              <li class="nav-header">Quickstart Archetypes</li>
                                
      <li>
    
                          <a href="basic-archetype.html" title="JavaFX Quickstart Project">
          <i class="none"></i>
        JavaFX Quickstart Project</a>
            </li>
                  
      <li>
    
                          <a href="rest-archetype.html" title="JavaFX + REST Quickstart Project">
          <i class="none"></i>
        JavaFX + REST Quickstart Project</a>
            </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2>Building a Web Distribution Bundle<a name="Building_a_Web_Distribution_Bundle"></a></h2>
<p>The JavaFX packaging tools support web-based distribution via Applets and/or Webstart (JNLP). There are a number of very strong reasons not to use this deployment option (see below), however, since native installation bundles are still quite feature limited and App Store support is non-existent, I've included support for web based distros for those who really want to use them.</p>
<p>To build a web distribution bundle:</p>
<div>
<pre>mvn clean jfx:web</pre></div>
<p>The resulting web distribution bundle will be built to '<b>target/jfx/web</b>'. This will include both a JNLP and Applet distribution option for your application.</p>
<p>This is built using the <a class="externalLink" href="http://docs.oracle.com/javafx/2/deployment/deployment_toolkit.htm#BABJHEJA">JavaFX packaging tools</a> and there are not a lot of ways to customise this from outside of the tools. The resulting bundle is rather ugly and you will likely want to create your own HTML files to launch your application. Use the generated files as a template for doing this.</p>
<p>Numerous configuration options exist for the web deployment goal, see the <a href="./web-mojo.html">javafx:web goal documentation</a> for a full list.</p>
<div class="section">
<h3>Signing and the Sandbox<a name="Signing_and_the_Sandbox"></a></h3>
<p>If your app does anything remotely interesting it will most likely need to be signed and have 'allPermissions' set in the POM to allow it to break out of the constraints of the Browser's Sandbox.</p>
<p>To allow this, you need to have the following configuration in your POM at a minimum:</p>
<div>
<pre>&lt;plugin&gt;
    &lt;groupId&gt;com.zenjava&lt;/groupId&gt;
    &lt;artifactId&gt;javafx-maven-plugin&lt;/artifactId&gt;
    &lt;version&gt;8.1.2&lt;/version&gt;
    &lt;configuration&gt;
        &lt;mainClass&gt;your.main.class&lt;/mainClass&gt;
        &lt;keyStoreAlias&gt;your-username&lt;/keyStoreAlias&gt;
        &lt;keyStorePassword&gt;your-password&lt;/keyStorePassword&gt;
        &lt;allPermissions&gt;true&lt;/allPermissions&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;</pre></div>
<p>Before you can sign your app, you need to have a Keystore to sign it with. If you are deploying into the real world and don't want your users to see a 'this app is not trusted' message, you need a proper certificate from a certifying entity. See <a class="externalLink" href="http://stackoverflow.com/questions/155241/cheapest-java-code-signing-certificate-not-self-signed">this for more information</a>.</p>
<p>If you just want a certificate for testing with (or for deploying on a local network to users who won't get freaked out by the 'not trusted' warning), the JavaFX Maven Plugin includes a handy command for generating a testing Keystore:</p>
<div>
<pre>mvn jfx:generate-key-store -DcertDomain=com.yourdomain -DcertState=NSW -DcertCountry=AU</pre></div>
<p>It doesn't really matter what you use for your domain, state and country but it's best to try and use something that represents you somewhat. You only need to run this once, then you can save the Keystore into your source control repository and all developers on the team can share it.</p></div>
<div class="section">
<h3>Why you shouldn't use web deployment<a name="Why_you_shouldnt_use_web_deployment"></a></h3>
<p>On the surface, web deployment looks like a great option, but it has a lot of drawbacks when you actually start using it.</p>
<ul>
<li><b>Buggy</b>: web deployment is buggy. There have been numerous cases reported of users attempting to open an Applet or JNLP file and it just not working, or worse, messing up their installed JRE so that other things stop working properly as well. I've personally experienced problems with 32bit and 64bit conflicts on Windows that resulted in the app never starting and users having to completely uninstall and reinstall Java manually (not pleasant for anyone).</li>
<li><b>Poor user experience</b>: the installer (especially on Windows) for Java is a horrible experience. If a user does not have Java installed, they are taken to the ugly and confusing download page, they have to work out whether they have a 64bit (x64) )or 32bit (x86) machine, and then go through some scary installation pages. After the install, they then manually have to return to your page to launch your app. All the user really wants to do is run your app, so having to do all this weird and scary Java installation stuff is very off-putting for them.</li>
<li><b>System-wide JRE</b>: web deployment always uses a system wide JRE. You cannot have one application use one version of Java and another application use a different version. There can be only one.</li>
<li><b>Default auto-updating</b>: as well as having only one JRE, this JRE is always auto-updating itself to the latest version for security reasons. If your application is not compatible with the latest version (and there have been many instances of backwards compatibility failures) then one day, out-of-the-blue, your app will just stop working when your users suddenly get the latest version of Java appearing on your system.</li>
<li><b>Do you want to update?</b>: the auto-updates aren't invisible. The user is actually prompted for these updates. Most users have no idea what this update is for, or what it is doing. The prompt to update can happen at any time and not just when the user launches your Java application. These weird, annoying dialogs popping up about Java needing to update are a great source of stress and anxiety for a lot of users.</li></ul>
<p>If you have used JNLP or Applets before, it's worth noting that some of these problems are recent additions. The auto-updating issues are worse now due to the security problems and a new policy of always trying to force the user to the latest version to avoid security holes. The buggy aspects of Applets and JNLP seem to be worse at the moment with the mixture of 32bit and 64bit operating systems, browsers and JREs all being combined to bad effect.</p>
<p>Additionally, the web deployment options rely on the use of browser plugins to work. Browser vendors have made strong noises recently about dropping support for plugins. Once this happens, the choice will be out of our hands and all web deployment options will be null and void anyway. It's not clear when browser vendors are going to make this shift, but with the rise of the App Stores, Mac gaining some market traction and Windows 8 very slowly trickling in, the trend is growing.</p>
<p>As well as the problems listed above, web deployment is also the root of all the 'security' problems that have been plaguing Java in recent years and giving it such a bad reputation. If we didn't have web deployed applications we wouldn't have all these security violations that keep busting out of the sandbox and allowing people to do bad things. A lot of good development time is being wasted trying to patch these holes when really we should all just accept that the web deployment dream died back when Netscape Navigator lost the browser war to IE. Flash conceded defeat long ago and it was much better positioned than Java ever was in web deployment. Lets lay the dead to rest.</p>
<p>It would be best if Oracle could deprecate these deployment options and instead focus on adding features to native installers and supporting App Store deployment but too many big players seem intent on clinging to these flawed web deployment models for Oracle to be willing to let them go. I'd encourage anyone doing JFX development to start using the native installation options, and to start putting pressure on the JFX team to invest in developing this and App Store deployment options instead of throwing away good time on web deployment.</p></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                   2012-2015.
          All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
