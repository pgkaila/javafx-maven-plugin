<!DOCTYPE html>
<!--
 | Generated by Apache Maven Doxia at 2015-04-26
 | Rendered using Apache Maven Fluido Skin 1.3.0
-->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="Date-Revision-yyyymmdd" content="20150426" />
    <meta http-equiv="Content-Language" content="en" />
    <title>JavaFX Maven Plugin - </title>
    <link rel="stylesheet" href="./css/apache-maven-fluido-1.3.0.min.css" />
    <link rel="stylesheet" href="./css/site.css" />
    <link rel="stylesheet" href="./css/print.css" media="print" />

      
    <script type="text/javascript" src="./js/apache-maven-fluido-1.3.0.min.js"></script>

    
            </head>
        <body class="topBarDisabled">
          
        
    
        <div class="container-fluid">
          <div id="banner">
        <div class="pull-left">
                                                  <a href="index.html" id="bannerLeft">
                <h2>JavaFX Maven Plugin</h2>
                </a>
                      </div>
        <div class="pull-right">              <div id="bannerRight">
                                                                                                <img src="images/zenjava-logo-small.png" />
                </div>
      </div>
        <div class="clear"><hr/></div>
      </div>

      <div id="breadcrumbs">
        <ul class="breadcrumb">
                
                    
                  <li id="publishDate">Last Published: 2015-04-26</li>
                  <li class="divider">|</li> <li id="projectVersion">Version: 8.1.2</li>
                      
                
                    
      
                                              
    <li class="pull-right">              <a href="http://github.com/pgkaila/javafx-maven-plugin" class="externalLink" title="GitHub Project">
        GitHub Project</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="http://docs.oracle.com/javafx/" class="externalLink" title="JavaFX">
        JavaFX</a>
  </li>

        <li class="divider pull-right">|</li>
      
    <li class="pull-right">              <a href="http://zenjava.com" class="externalLink" title="ZenJava">
        ZenJava</a>
  </li>

                        </ul>
      </div>

            
      <div class="row-fluid">
        <div id="leftColumn" class="span3">
          <div class="well sidebar-nav">
                
                    
                <ul class="nav nav-list">
                    <li class="nav-header">JavaFX Maven Plugin</li>
                                
      <li>
    
                          <a href="index.html" title="Introduction">
          <i class="none"></i>
        Introduction</a>
            </li>
                  
      <li class="active">
    
            <a href="#"><i class="none"></i>Fix the classpath</a>
          </li>
                  
      <li>
    
                          <a href="basic-config.html" title="Basic Configuration">
          <i class="none"></i>
        Basic Configuration</a>
            </li>
                  
      <li>
    
                          <a href="plugin-info.html" title="All Goals and Settings">
          <i class="none"></i>
        All Goals and Settings</a>
            </li>
                              <li class="nav-header">Usage Guide</li>
                                
      <li>
    
                          <a href="jar-bundle.html" title="Building an Executable JAR">
          <i class="none"></i>
        Building an Executable JAR</a>
            </li>
                  
      <li>
    
                          <a href="native-bundle.html" title="Building a Native installer">
          <i class="none"></i>
        Building a Native installer</a>
            </li>
                  
      <li>
    
                          <a href="web-bundle.html" title="Building a Web bundle">
          <i class="none"></i>
        Building a Web bundle</a>
            </li>
                              <li class="nav-header">Quickstart Archetypes</li>
                                
      <li>
    
                          <a href="basic-archetype.html" title="JavaFX Quickstart Project">
          <i class="none"></i>
        JavaFX Quickstart Project</a>
            </li>
                  
      <li>
    
                          <a href="rest-archetype.html" title="JavaFX + REST Quickstart Project">
          <i class="none"></i>
        JavaFX + REST Quickstart Project</a>
            </li>
            </ul>
                
                    
                
          <hr class="divider" />

           <div id="poweredBy">
                            <div class="clear"></div>
                            <div class="clear"></div>
                            <div class="clear"></div>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="builtBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                  </div>
          </div>
        </div>
        
                
        <div id="bodyColumn"  class="span9" >
                                  
            <div class="section">
<h2>Getting JavaFX on the Classpath<a name="Getting_JavaFX_on_the_Classpath"></a></h2>
<p>Before you can use JavaFX you need to include it on your JDK's classpath. Use the following command (from anywhere):</p>
<div>
<pre>mvn com.zenjava:javafx-maven-plugin:8.1.2:fix-classpath</pre></div>
<p><i>Note: you must run this as a super user if your JDK is installed in a restricted directory (such as Program Files on Windows).</i></p>
<p>After running this command, JavaFX will now be on the default classpath of your JDK (like Swing, java.util, etc). Most IDEs need to be restarted to pick up the change.</p>
<div class="section">
<h3>Why is this needed?<a name="Why_is_this_needed"></a></h3>
<p>Yes, this is a bit weird.</p>
<p>As of Java 7 update 7, JavaFX is now 'co-bundled' with the JDK, so when you install the JDK, JavaFX is automatically installed with it. Oracle however have not fully finished this co-bundling and have left this in a somewhat annoying half-done state. The JavaFX libraries are included with the JRE, but are <b>NOT</b> put on the classpath by default. The above Maven command finishes the job so that your system is fully setup to use JavaFX.</p>
<p>Oracle plans to fix this (hopefully by Java 8) but until then it is necessary to manually update the JRE classpath of your local JDK so that JavaFX is available to your application. See <a class="externalLink" href="http://mail.openjdk.java.net/pipermail/openjfx-dev/2012-October/004072.html">this discussion</a> for more information.</p></div>
<div class="section">
<h3>What does this actually do?<a name="What_does_this_actually_do"></a></h3>
<p>All the above command does is simply move the JavaFX JAR (jfxrt.jar) from its default location of 'lib' within your installed JDK to the 'ext' directory of that same JDK. The command above is just a helpful shortcut to copy and paste this one file, and no more complex than that.</p>
<p>By placing the JAR in the 'ext' directory the JDK will automatically detect it and load it when it starts up. This directory is the <a class="externalLink" href="http://docs.oracle.com/javase/tutorial/ext/basics/install.html">standard way to load extensions into the JDK</a> and we are just taking advantage of that. The JavaFX team have indicated that when they finally fully include JavaFX on the path it will be by placing this jar in the ext directory so the end result will be exactly the same.</p>
<p>If you don't want to use the fix-classpath Maven command or have problems when running it. You can try manually moving the JAR file yourself from the lib directory to the ext directory. There is no more magic required than that.</p></div>
<div class="section">
<h3>Why is there a scary warning message when I run this command?<a name="Why_is_there_a_scary_warning_message_when_I_run_this_command"></a></h3>
<p>I'm just making sure you know what you are doing. By moving the JAR onto the JDK default system classpath you now effect every Java application running on that computer. If you have another application or project that is in someway upset by JavaFX being included (highly unlikely!) then you get a chance here to think that over.</p>
<p>In 99.9% of cases you can safely say 'yes' when asked and follow through with the classpath fix. If you need to run this command as a part of your automated build script and don't want this prompt you can set the 'silentJfxFix' to true.</p></div>
<div class="section">
<h3>Why can't I just add JavaFX as a normal Maven dependency?<a name="Why_cant_I_just_add_JavaFX_as_a_normal_Maven_dependency"></a></h3>
<p>This seems like the obvious solution: if JavaFX is just a JAR, why can't we just add it as a regular Maven dependency to the POM.</p>
<p>Unfortunately this does not work due to the native file loading approach used by JFX. Search the OTN forums for more information on this. Oracle has no plans to fix this loading issue and the co-bundling fix for Java 8 will make this unnecessary anyway (you won't want, or need a Maven dependency for JavaFX since it will be on the classpath by default, much like Swing and the Java Collections API).</p>
<p>There are other ways to achieve the same result as the fix-classpath command (such as using a 'system' scoped dependency), but every option has its own peculiar drawbacks. The fix-classpath is the one I would recommend as having the least problems in the long run.</p></div>
<div class="section">
<h3>Do I need to do this on every user's machine?<a name="Do_I_need_to_do_this_on_every_users_machine"></a></h3>
<p>No, not for every 'user'. You do need to do it once (and only once) on each 'developer' machine to fix their JDK.</p>
<p>If you use this Maven plugin to generate your deployment bundles, whether that is as an executable JAR, a web bundle or a native installer, you do not need to worry about how JavaFX ends up the client machine - the deployment bundles will sort it out for you.</p>
<p>In the case of executable JARs and web bundles, there is a whole lot of pre-launch trickery used by the JFX guys to get JavaFX running as part of the JAR or web plugin. If using a native installer, then JavaFX is bundled into the JRE included in the native installer and life is pretty simple.</p></div></div>
                  </div>
            </div>
          </div>

    <hr/>

    <footer>
            <div class="container-fluid">
              <div class="row span12">Copyright &copy;                   2012-2015.
          All Rights Reserved.      
                    
      </div>

        
        
                </div>
    </footer>
  </body>
</html>
